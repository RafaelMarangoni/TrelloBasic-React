{"ast":null,"code":"var _jsxFileName = \"/home/rafa0/\\xC1rea de Trabalho/Aula React/TODO-DH/src/componentes/Todo/Todo.js\";\nimport React from 'react';\nimport Botao from '../Botao/Botao';\nimport Tarefa from '../Tarefa/Tarefa';\nimport Input from '../Input/Input';\nimport './Todo.css';\n\nclass Todo extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tarefas: []\n    };\n\n    this.componentDidMount = () => {\n      this.listarTarefas();\n    };\n\n    this.listarTarefas = () => {\n      let tarefasLocal = localStorage.getItem(\"tarefas\");\n\n      if (tarefasLocal === null) {\n        localStorage.setItem(\"tarefas\", JSON.stringify([]));\n      } else {\n        this.setState({\n          tarefas: JSON.parse(tarefasLocal)\n        });\n      }\n    };\n\n    this.verificarData = data => {\n      let dataAtual = new Date();\n      let dia = String(dataAtual.getDate());\n      let mes = String(dataAtual.getMonth() + 1);\n      let ano = String(dataAtual.getFullYear());\n      let dataFormatada = \"\".concat(ano, \"-\").concat(mes.padStart(2, \"0\"), \"-\").concat(dia.padStart(2, \"0\"));\n      return Date.parse(dataFormatada) >= Date.parse(data);\n    };\n\n    this.adicionarTarefa = evento => {\n      evento.preventDefault();\n      let novaTarefa = evento.target.firstElementChild.value;\n      let novaData = evento.target.firstElementChild.nextElementSibling.value;\n\n      if (this.verificarData(novaData)) {\n        return alert('Data invalida');\n      }\n\n      evento.target.firstElementChild.value = \"\";\n      evento.target.firstElementChild.focus();\n\n      if (novaTarefa === \"\") {\n        return alert('Opa não pode adicionar vazio');\n      }\n\n      let tarefasLocal = localStorage.getItem(\"tarefas\");\n      let arrayTarefas = JSON.parse(tarefasLocal);\n      let dataDivida = novaData.split(\"-\");\n      arrayTarefas.push({\n        titulo: novaTarefa,\n        data: novaData,\n        status: \"Fazendo\"\n      });\n      arrayTarefas = arrayTarefas.reverse();\n      localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n      this.setState({\n        tarefas: arrayTarefas\n      });\n    };\n\n    this.removerTarefas = () => {\n      localStorage.setItem(\"tarefas\", JSON.stringify([]));\n      this.setState({\n        tarefas: []\n      });\n    };\n\n    this.atualizarTarefa = index => {\n      let tarefasLocal = localStorage.getItem(\"tarefas\");\n      let arrayTarefas = JSON.parse(tarefasLocal);\n      let statusTarefa = arrayTarefas[index].status;\n\n      if (statusTarefa === \"Fazendo\") {\n        arrayTarefas[index].status = \"Feito\";\n      } else {\n        arrayTarefas[index].status = \"Fazendo\";\n      }\n\n      localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n      this.setState({\n        tarefas: arrayTarefas\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.adicionarTarefa,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Input, {\n      class: \"tarefa\",\n      tipo: \"text\",\n      caixaTexto: \"Digite sua tarefa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(Input, {\n      tipo: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Botao, {\n      classe: \"add\",\n      titulo: \"Adicionar\",\n      tipo: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(Botao, {\n      classe: \"removeAll\",\n      titulo: \"Remover todas as tarefas\",\n      tipo: \"button\",\n      aoClicar: this.removerTarefas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), this.state.tarefas.map((tarefa, index) => {\n      return React.createElement(Tarefa, {\n        key: index,\n        tituloTarefa: tarefa.titulo,\n        tituloData: tarefa.data,\n        tituloStatus: tarefa.status,\n        classeStatus: tarefa.status,\n        aoClicar: () => {\n          this.atualizarTarefa(index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      });\n    }));\n  }\n\n}\n\nexport default Todo;","map":{"version":3,"sources":["/home/rafa0/Área de Trabalho/Aula React/TODO-DH/src/componentes/Todo/Todo.js"],"names":["React","Botao","Tarefa","Input","Todo","Component","state","tarefas","componentDidMount","listarTarefas","tarefasLocal","localStorage","getItem","setItem","JSON","stringify","setState","parse","verificarData","data","dataAtual","Date","dia","String","getDate","mes","getMonth","ano","getFullYear","dataFormatada","padStart","adicionarTarefa","evento","preventDefault","novaTarefa","target","firstElementChild","value","novaData","nextElementSibling","alert","focus","arrayTarefas","dataDivida","split","push","titulo","status","reverse","removerTarefas","atualizarTarefa","index","statusTarefa","render","map","tarefa"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport Botao from '../Botao/Botao';\nimport Tarefa from '../Tarefa/Tarefa';\nimport Input from '../Input/Input';\n\n\nimport './Todo.css';\n\nclass Todo extends React.Component {\n    state = {\n        tarefas: []\n    }\n\n    componentDidMount = () => {\n        this.listarTarefas();\n    }\n\n    listarTarefas = () => {\n        let tarefasLocal = localStorage.getItem(\"tarefas\");\n\n        if (tarefasLocal === null) {\n            localStorage.setItem(\"tarefas\", JSON.stringify([]));\n        } else {\n            this.setState({ tarefas: JSON.parse(tarefasLocal) })\n        }\n    }\n    // roots\n    // verificarData = data =>{\n    //     let dataAtual = new Date();\n    //     let dia = dataAtual.getDate();\n    //     let mes = dataAtual.getMonth()+1;\n    //     let ano = dataAtual.getFullYear();\n\n    //     if (dia.toString().length == 1){\n    //         dia = \"0\"+dia;\n    //     }\n    //      if (mes.toString().length == 1){\n    //         mes = \"0\"+mes;\n    //     }\n        \n    //     //return dia+\"/\"+mes+\"/\"+ano;\n    //     console.log(ano+\"-\"+mes+\"-\"+dia);\n        \n    // };\n\n    verificarData = data =>{\n        let dataAtual = new Date();\n        let dia = String(dataAtual.getDate());\n        let mes = String(dataAtual.getMonth()+1);\n        let ano = String(dataAtual.getFullYear());\n\n        let dataFormatada = `${ano}-${mes.padStart(2,\"0\")}-${dia.padStart(2,\"0\")}`;\n\n        return Date.parse(dataFormatada) >= Date.parse(data);\n    };\n         \n        \n\n\n  \n\n    adicionarTarefa = (evento) => {\n\n        evento.preventDefault();\n\n\n\n        let novaTarefa = evento.target.firstElementChild.value\n        let novaData = evento.target.firstElementChild.nextElementSibling.value\n\n        if(this.verificarData(novaData)){\n            return alert('Data invalida');\n        }\n\n        evento.target.firstElementChild.value = \"\";\n        evento.target.firstElementChild.focus();\n\n        if (novaTarefa === \"\") {\n            return alert('Opa não pode adicionar vazio');\n        }\n\n        let tarefasLocal = localStorage.getItem(\"tarefas\");\n        let arrayTarefas = JSON.parse(tarefasLocal);\n\n        let dataDivida = novaData.split(\"-\");\n        \n\n        arrayTarefas.push({\n            titulo: novaTarefa,\n            data:novaData,\n            status: \"Fazendo\"\n        \n        });\n\n        arrayTarefas = arrayTarefas.reverse();\n\n        localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n\n        this.setState({ tarefas: arrayTarefas })\n    }\n\n    removerTarefas = () => {\n        localStorage.setItem(\"tarefas\", JSON.stringify([]));\n        this.setState({tarefas: []})\n    }\n\n    atualizarTarefa = (index) => {\n        let tarefasLocal = localStorage.getItem(\"tarefas\");\n\n        let arrayTarefas = JSON.parse(tarefasLocal);\n\n        let statusTarefa = arrayTarefas[index].status;\n\n        if (statusTarefa === \"Fazendo\") {\n            arrayTarefas[index].status = \"Feito\";\n        } else {\n            arrayTarefas[index].status = \"Fazendo\";\n        }\n\n        localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n        this.setState({ tarefas: arrayTarefas })\n    }\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.adicionarTarefa}>\n                    <Input class=\"tarefa\"tipo=\"text\" caixaTexto=\"Digite sua tarefa\"/>\n                    <Input tipo=\"date\"/>\n                    <Botao\n                        classe=\"add\"\n                        titulo=\"Adicionar\"\n                        tipo=\"submit\"\n                    />\n                </form>\n                <Botao\n                    classe=\"removeAll\"\n                    titulo=\"Remover todas as tarefas\"\n                    tipo=\"button\"\n                    aoClicar={this.removerTarefas}\n                />\n                { this.state.tarefas.map((tarefa, index) => {\n                    return (\n                        <Tarefa\n                            key={index}\n                            tituloTarefa={tarefa.titulo}\n                            tituloData={tarefa.data}\n                            tituloStatus={tarefa.status}\n                            classeStatus={tarefa.status}\n                            aoClicar={ () => {this.atualizarTarefa(index)} }\n                        />\n                    );\n                }) }\n            </div>\n        );\n    }\n}\n\nexport default Todo;"]},"metadata":{},"sourceType":"module"}