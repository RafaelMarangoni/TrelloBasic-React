{"ast":null,"code":"var _jsxFileName = \"/home/rafa0/\\xC1rea de Trabalho/Aula React/TODO-DH/src/componentes/Todo/Todo.js\";\nimport React from 'react';\nimport Botao from '../Botao/Botao';\nimport Tarefa from '../Tarefa/Tarefa';\nimport Input from '../Input/Input';\nimport './Todo.css';\n\nclass Todo extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tarefas: []\n    };\n\n    this.componentDidMount = () => {\n      this.listarTarefas();\n    };\n\n    this.listarTarefas = () => {\n      let tarefasLocal = localStorage.getItem(\"tarefas\");\n\n      if (tarefasLocal === null) {\n        localStorage.setItem(\"tarefas\", JSON.stringify([]));\n      } else {\n        this.setState({\n          tarefas: JSON.parse(tarefasLocal)\n        });\n      }\n    };\n\n    this.verificarData = data => {\n      let dataAtual = new Date();\n      let dia = dataAtual.getDate();\n      let mes = dataAtual.getMonth() + 1;\n      let ano = dataAtual.getFullYear();\n    };\n\n    this.adicionarTarefa = evento => {\n      evento.preventDefault();\n      this.verificarData();\n      let novaTarefa = evento.target.firstElementChild.value;\n      let novaData = evento.target.firstElementChild.nextElementSibling.value;\n      evento.target.firstElementChild.value = \"\";\n      evento.target.firstElementChild.focus();\n\n      if (novaTarefa === \"\") {\n        return alert('Opa não pode adicionar vazio');\n      }\n\n      let tarefasLocal = localStorage.getItem(\"tarefas\");\n      let arrayTarefas = JSON.parse(tarefasLocal);\n      arrayTarefas.push({\n        titulo: novaTarefa,\n        data: novaData,\n        status: \"Fazendo\"\n      });\n      arrayTarefas = arrayTarefas.reverse();\n      localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n      this.setState({\n        tarefas: arrayTarefas\n      });\n    };\n\n    this.removerTarefas = () => {\n      localStorage.setItem(\"tarefas\", JSON.stringify([]));\n      this.setState({\n        tarefas: []\n      });\n    };\n\n    this.atualizarTarefa = index => {\n      let tarefasLocal = localStorage.getItem(\"tarefas\");\n      let arrayTarefas = JSON.parse(tarefasLocal);\n      let statusTarefa = arrayTarefas[index].status;\n\n      if (statusTarefa === \"Fazendo\") {\n        arrayTarefas[index].status = \"Feito\";\n      } else {\n        arrayTarefas[index].status = \"Fazendo\";\n      }\n\n      localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n      this.setState({\n        tarefas: arrayTarefas\n      });\n    };\n  }\n\n  dataFormatada() {\n    var data = new Date();\n    var dia = data.getDate();\n\n    if (dia.toString().length == 1) {\n      dia = \"0\" + dia;\n    }\n\n    var mes = data.getMonth() + 1;\n\n    if (mes.toString().length == 1) {\n      mes = \"0\" + mes;\n    }\n\n    var ano = data.getFullYear();\n    return dia + \"/\" + mes + \"/\" + ano;\n    console.log(dia, mes, ano);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.adicionarTarefa,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Input, {\n      class: \"tarefa\",\n      tipo: \"text\",\n      caixaTexto: \"Digite sua tarefa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(Input, {\n      tipo: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Botao, {\n      classe: \"add\",\n      titulo: \"Adicionar\",\n      tipo: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(Botao, {\n      classe: \"removeAll\",\n      titulo: \"Remover todas as tarefas\",\n      tipo: \"button\",\n      aoClicar: this.removerTarefas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), this.state.tarefas.map((tarefa, index) => {\n      return React.createElement(Tarefa, {\n        key: index,\n        tituloTarefa: tarefa.titulo,\n        tituloData: tarefa.data,\n        tituloStatus: tarefa.status,\n        classeStatus: tarefa.status,\n        aoClicar: () => {\n          this.atualizarTarefa(index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      });\n    }));\n  }\n\n}\n\nexport default Todo;","map":{"version":3,"sources":["/home/rafa0/Área de Trabalho/Aula React/TODO-DH/src/componentes/Todo/Todo.js"],"names":["React","Botao","Tarefa","Input","Todo","Component","state","tarefas","componentDidMount","listarTarefas","tarefasLocal","localStorage","getItem","setItem","JSON","stringify","setState","parse","verificarData","data","dataAtual","Date","dia","getDate","mes","getMonth","ano","getFullYear","adicionarTarefa","evento","preventDefault","novaTarefa","target","firstElementChild","value","novaData","nextElementSibling","focus","alert","arrayTarefas","push","titulo","status","reverse","removerTarefas","atualizarTarefa","index","statusTarefa","dataFormatada","toString","length","console","log","render","map","tarefa"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport Botao from '../Botao/Botao';\nimport Tarefa from '../Tarefa/Tarefa';\nimport Input from '../Input/Input';\n\n\nimport './Todo.css';\n\nclass Todo extends React.Component {\n    state = {\n        tarefas: []\n    }\n\n    componentDidMount = () => {\n        this.listarTarefas();\n    }\n\n    listarTarefas = () => {\n        let tarefasLocal = localStorage.getItem(\"tarefas\");\n\n        if (tarefasLocal === null) {\n            localStorage.setItem(\"tarefas\", JSON.stringify([]));\n        } else {\n            this.setState({ tarefas: JSON.parse(tarefasLocal) })\n        }\n    }\n\n    verificarData = data =>{\n        let dataAtual = new Date();\n        let dia = dataAtual.getDate();\n        let mes = dataAtual.getMonth()+1;\n        let ano = dataAtual.getFullYear();\n      \n        \n    };\n\n    dataFormatada(){\n        var data = new Date();\n        var dia = data.getDate();\n        if (dia.toString().length == 1){\n            dia = \"0\"+dia;\n        }\n        var mes = data.getMonth()+1;\n        if (mes.toString().length == 1){\n            mes = \"0\"+mes;\n        }\n        var ano = data.getFullYear();  \n        \n        return dia+\"/\"+mes+\"/\"+ano;\n\n        console.log(dia,mes,ano);\n    }\n\n    adicionarTarefa = (evento) => {\n\n        evento.preventDefault();\n\n        this.verificarData();\n\n        let novaTarefa = evento.target.firstElementChild.value\n        let novaData = evento.target.firstElementChild.nextElementSibling.value\n\n        evento.target.firstElementChild.value = \"\";\n        evento.target.firstElementChild.focus();\n\n        if (novaTarefa === \"\") {\n            return alert('Opa não pode adicionar vazio');\n        }\n\n        let tarefasLocal = localStorage.getItem(\"tarefas\");\n        let arrayTarefas = JSON.parse(tarefasLocal);\n\n        arrayTarefas.push({\n            titulo: novaTarefa,\n            data:novaData,\n            status: \"Fazendo\"\n        \n        });\n\n        arrayTarefas = arrayTarefas.reverse();\n\n        localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n\n        this.setState({ tarefas: arrayTarefas })\n    }\n\n    removerTarefas = () => {\n        localStorage.setItem(\"tarefas\", JSON.stringify([]));\n        this.setState({tarefas: []})\n    }\n\n    atualizarTarefa = (index) => {\n        let tarefasLocal = localStorage.getItem(\"tarefas\");\n\n        let arrayTarefas = JSON.parse(tarefasLocal);\n\n        let statusTarefa = arrayTarefas[index].status;\n\n        if (statusTarefa === \"Fazendo\") {\n            arrayTarefas[index].status = \"Feito\";\n        } else {\n            arrayTarefas[index].status = \"Fazendo\";\n        }\n\n        localStorage.setItem(\"tarefas\", JSON.stringify(arrayTarefas));\n        this.setState({ tarefas: arrayTarefas })\n    }\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.adicionarTarefa}>\n                    <Input class=\"tarefa\"tipo=\"text\" caixaTexto=\"Digite sua tarefa\"/>\n                    <Input tipo=\"date\"/>\n                    <Botao\n                        classe=\"add\"\n                        titulo=\"Adicionar\"\n                        tipo=\"submit\"\n                    />\n                </form>\n                <Botao\n                    classe=\"removeAll\"\n                    titulo=\"Remover todas as tarefas\"\n                    tipo=\"button\"\n                    aoClicar={this.removerTarefas}\n                />\n                { this.state.tarefas.map((tarefa, index) => {\n                    return (\n                        <Tarefa\n                            key={index}\n                            tituloTarefa={tarefa.titulo}\n                            tituloData={tarefa.data}\n                            tituloStatus={tarefa.status}\n                            classeStatus={tarefa.status}\n                            aoClicar={ () => {this.atualizarTarefa(index)} }\n                        />\n                    );\n                }) }\n            </div>\n        );\n    }\n}\n\nexport default Todo;"]},"metadata":{},"sourceType":"module"}